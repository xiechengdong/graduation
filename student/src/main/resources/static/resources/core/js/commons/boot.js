(function(b){var a={debug:undefined,mock:undefined,miniui:true,loadResources:undefined};a._getScriptPath=function(e){var g=document.getElementsByTagName("script");var m="";for(var j=0,f=g.length;j<f;j++){var h=g[j];var c=h.src;if(this._urlMatch(e,c)){m=this._getBasePath(e,c);if(h.getAttribute("debug")){a.debug=(h.getAttribute("debug")==="true")}if(h.getAttribute("mock")){a.mock=(h.getAttribute("mock")==="true")}if(h.getAttribute("miniui")){a.miniui=(h.getAttribute("miniui")!=="false")}a.loadResources=h.getAttribute("load-resources");break}}var d=location.href;d=d.split("#")[0];d=d.split("?")[0];var k=d.split("/");k.length=k.length-1;d=k.join("/");if(m.indexOf("https:")==-1&&m.indexOf("http:")==-1&&m.indexOf("file:")==-1&&m.indexOf("/")!=0){m=d+"/"+m}return m};a._urlMatch=function(e,f){if(!e||!f){return false}var d=f.split("?")[0];if(!d){return false}var c=d.indexOf(e);return(c===d.length-e.length)};a._getFile=function(c){var e=c&&c.split("#")[0];e=e&&e.split("?")[0];var d=e&&e.split("/");return d&&d[d.length-1]};a._getFileExt=function(e){var d=this._getFile(e);var c=d&&d.split(".");if(c&&c.length>1){return c[c.length-1]}else{return null}};a._getPath=function(c){var d=c&&c.split("/");d.pop();return d.join("/")};a._getBasePath=function(d,c){if(d){return c&&c.split(d)[0]}else{return this._getPath(c)}};a._getFullPath=function(d){if(d&&d.indexOf("//")===-1){var c=this.bootPATH+d;if(d.indexOf("/src/")===0){c=this.bootPATH+"/.."+d}console.log(c);return c}else{return d}};a._loadScript=function(c){document.write('<script src="'+this._getFullPath(c)+'"><\/script>')};a._loadCss=function(c){document.write('<link href="'+this._getFullPath(c)+'" rel="stylesheet" type="text/css" />')};a._loadResource=function(c){var d=this._getFileExt(c);if(d==="js"){this._loadScript(c)}else{if(d==="css"){this._loadCss(c)}else{console&&console.log&&console.log("file not javascript or css",c)}}};a.init=function(){this.bootPATH=this._getScriptPath("/core/js/commons/boot.js");if(this.miniui){this._loadCss("/core/css/miniui.css")}this._loadCss("/core/css/style.css");if(this.debug){this._loadScript("/../src/js/configs.js")}else{this._loadScript("/js/configs.js")}this._loadScript("/lib/jquery/dist/jquery.min.js");if(this.debug){this._loadScript("/../src/js/commons/commons.js")}else{this._loadScript("/core/js/commons/commons.js")}if(this.miniui){this._loadScript("/lib-base/miniui/miniui.js");if(this.debug){this._loadScript("/../src/js/commons/miniui_extend.js")}else{this._loadScript("/core/js/commons/miniui_extend.js")}}else{this._loadCss("/lib/layer/dist/theme/default/layer.css");this._loadScript("/lib/layer/dist/layer.js");this._loadScript("/core/js/commons/wdutil_win_layer.js")}if(this.loadResources){var c=this.loadResources.split(/\s*,\s*/);for(var d=0;d<c.length;d++){this._loadResource(c[d])}}if(this.mock){this._loadScript("/lib/mockjs/dist/mock-min.js");this._loadScript("/../src/js/commons/wssip_mock_extend.js");this._loadScript("/../mock/_all.js")}delete this.loadResources};a.loadScript=a._loadScript;a.loadCss=a._loadCss;a.loadResource=a._loadResource;a.init();b["boot"]=a})(window);